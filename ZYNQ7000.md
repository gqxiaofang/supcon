# ZYNQ7000

1. AMP 双裸核

2. hdf+bsp0+app0+bsp1+app1

3. bsp中linker Script修改BaseAddress Size

   ## 以太网eth

   http://xilinx.eetop.cn/viewnews-2410

   

   ## petalinux

   ### ques

   ```
   awk: symbol lookup error: awk: undefined symbol: mpfr_z_sub
   ```

   ### ans

   ```
   strace awk
   exit
   ```

   ### ques
   
   ```
   INFO: Checking installer checksum...
   ERROR: Failed to install PetaLinux. Installer checksum checking failed!
   ERROR: Expected checksum is "bb5a0a7225c2fd504eaf973fe16eb120", actual checksum is "16d135ebe3c9772328c15e21984de653"
   ```
   
   ### ans
   
   ```
   chmod 555 petalinux-v2018.3-final-installer.run.txt
   ./petalinux-v2018.3-final-installer.run.txt ~/pkg
   ```
   
   ### petalinux-config
   
   ```
   petalinux-create -t project -n my_project --template zynq
   petalinux-config --get-hw-description=/home/xf/myxln(配置hdf)
   petalinux-config -c kernel
   petalinux-build
   petalinux-package --boot --fsbl images/linux/zynq_fsbnl.elf --fpga --u-boot --fource
   ```
   
   1. Linux Components Selection -> linux-kernel -> ext-local-src -> External linux-kernel local source settings 
   2. flash分区
   3. 文件系统保存在flash 
   4. flash启动 offset 3M 5M 20M
   5. 设备tree
   
   ```
   petalinux-build
   ```
   
   ```
   sudo apt-get install putty
   sudo putty
   cd /dev
   ls->ttyUSB0
   ```
   
   share
       ├── BOOT.BIN.bin	# boot  fsbl+uboot+fpga
       ├── image.ub.bin	 # uboot(kerne固件)
       └── rootfs.jffs2.bin	# flash
   
   先擦写一个ff.bin空白的bin